---
title: 前端小技巧汇总
date: 2022-05-10 17:39:03
tags: [前端, tricks, notes, 学习笔记]
categories: tricks
---

## 前言

本篇文章主要是记录 HTML 部分可用于实际开发中的小技巧，部分章节是翻译整理而来，所有章节后都附有原文地址或者其他参考资料，本文将持续更新；

<!-- more -->

### 添加键盘快捷键

通过使用 `accesskey` 特性，我们可以为用户激活或聚焦在一个元素上赋予一个快捷键。这个特性的值必须是一个单独的字符。

值得注意的是每个浏览器提供了不同的组合键来触发快捷方式。

| 浏览器 | macOS | Windows | Linux |
| :----- | :----- | :----- | :----- |
| Chrome | `alt` + `ctrl` + key | `alt` + key | `alt` + key |
| Firefox | `alt` + `ctrl` + key |  `alt` + `shift` + key |  `alt` + `shift` + key |
| Safari |  `alt` + `ctrl` + key | n/a | n/a |

在下面的示例代码中，在 macOS Chrome 中按下组合键  `alt` + `ctrl` + `e` 会触发按钮的 `click` 事件。

```html
<button accesskey="e" onclick="alert('Edit')">Edit</button>
```

- [原文：Add keyboard shortcuts](https://getfrontend.tips/add-keyboard-shortcuts/)

### 判断浏览器是否支持一个元素属性

我们可以检测当前浏览器是否支持给定的特性，以 `pattern` 为例，如下：

```js
const isPatternSupported = 'pattern' in document.createElement('input');
```

如果你想检查某些特性值，则需要多几个步骤。下面的示例代码判断原生的日期输入框标签是否被支持：

```js
const isDateInputSupported = () => {
    // 创建一个新的 input 元素
    const ele = document.createElement('input');

    // 设置 type 特性
    ele.setAttribute('type', 'date');

    const invalidValue = 'not-a-valid-date';

    // 设置一个非法的值
    ele.setAttribute('value', invalidValue);

    return ele.value !== invalidValue;
};
```

如果浏览器支持 `date input`，调用 `setAttribute` 并传入一个非法的日期将不会在 `value` 特性上生效。因此，`ele.value` 将会是一个空字符串。

否则，这个输入框会被当做普通文本输入框，同时 `ele.value` 会返回原始的值。

- [原文 Check if the browser supports for an element attribute](https://getfrontend.tips/check-if-the-browser-supports-for-an-element-attribute/)

### 通过 :is 伪类选择器组合样式

`:is` 伪类选择器为其参数中列出的选择器匹配到的所有元素应用样式，而不是写分开的选择器：

```css
header a:hover,
nav a:hover,
footer a:hover {
    text-decoration: underline;
}
```

我们可以把它们组合成一个单独的，如下：

```css
:is(header, nav, footer) a:hover {
    text-decoration: underline;
}
```

- [原文 Combine styles with the :is pseudo-class selector](https://getfrontend.tips/combine-styles-with-the-is-pseudo-class-selector/)

### 创建一个一次性的事件处理器

有时候我们想要一个给定元素的事件触发一次。通常，这可以通过绑定一个移除自身的处理器实现：

```js
const handler = (e) => {
    // 做些事情 ...
    element.removeEventListener('click', handler);
};

element.addEventListener('click', handler);
```

我们可以使用一个命名函数表达式使代码缩短一点：

```js
element.addEventListener('click', function handler(e) {
    // 做些事情 ...

    // 移除处理器
    e.currentTarget.removeEventListener(e.type, handler);
});
```

然而，现代浏览器提供了一个新的 `once` 选项让事情变得更简单了。我们不再需要去跟踪处理器的引用了。

```js
element.addEventListener(
    'click',
    (e) => {
        // 做些事情 ...
    },
    {
        once: true,
    }
);
```